# 异常

## 异常 

* 程序在运行时出现的非正常状况, 如果不处理会引起程序中断.

## **异常按程度分为** 

* Error : 严重错误---Java虚拟机无法解决的严重问题。如：JVM系统内部错误、资源耗尽等严重情况。一般不编写针对性的代码进行处理
* Exception : 一般问题---其它因编程错误或偶然的外在因素导致的一般性问题，可以使用针对性的代码进行处理。例如：空指针访问，试图读取不存在的文件，网络连接中断等

## **异常按处理方式来分** 

 * **受检异常** : 在程序中必须接受检查和处理的异常(checked) 也称为**编译时异常**
   * Exception及其子类, RuntimeException及其子类除外
 * **非受检异常** : 在程序中不是必须接受检查和处理的异常(uncheked) 也称为**运行时异常**
   * Error 及其子类, 太过严重
   * RuntimeException 及其子类, 太过轻微

**如下图异常的分类：**

![https://github.com/kocdaniel/BigData/blob/master/img/%E5%BC%82%E5%B8%B8%E7%9A%84%E5%88%86%E7%B1%BB.png](https://github.com/kocdaniel/BigData/blob/master/img/异常的分类.png)

## **异常的处理方式 **

1. **捕获 : try catch** 

```
try {
	有可能抛出异常的语句
} catch (异常类型1 引用) {
	处理异常类型1的情况
} catch (异常类型2 引用) {
	处理异常类型2的情况
} .... {
} catch (Excpetion e) {
	万无一失
} finally {
	在这里释放不在GC区中的资源, 无论前面发生什么都要执行.
}
```

**可行的组合：**

```
- try catch 
- try catch finally 
- try finally 
```

2. **抛出异常** 

- 在方法签名中使用	**throws 异常类型**	, 作用是警告调用者此方法有可能出问题.
- 在方法体中使用    **throw 异常对象**    , 来抛出异常, 异常一旦抛出, 相当于方法结束, 但是是异常结束, 把异常对象抛给调用者

* 有throw必须有throws，但是有throws不一定有throw

3. **先捕获再抛出**

* 先捕获一个异常, 再把这个异常包装为自定义异常, 抛出的是自定义异常.

## 异常处理方式的选择  

* 入口方法尽量捕获
* 普通方法尽量抛出

# 方法覆盖(Override) 

* 子类重写父类的方法.

 * 条件 :
 * 1) 方法签名一致(返回值类型, 方法名, 参数列表[参数个数, 参数类型, 参数顺序]) 返回值类型, 子类的返回值类型可以是父类返回值类型的子类
 * 2) 访问控制修饰符子类的大于等于父类的访问控制修饰符. 体现的是子类对象父类的扩展
 * 3) 不能被修饰 final, static....
 * 4) 子类方法抛出的受检异常要小于等于父类方法抛出的异常类型. 

# 对象关联

* 对象关联 : 一个对象完全拥有另外一个类的对象. 
* 如何关联 : 把另外一个类的对象作为当前对象的属性, 属性就是成员, 成员意味着可以直接互访
* 关联目的 : 方便在本类中使用另外一个类的对象, 所关联的对象, 要频繁地在多个方法中用到它.
* 对象关联, 通常情况就是由构造器完成关联的!!!